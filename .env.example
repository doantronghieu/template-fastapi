# FastAPI
PORT=8000

# PostgreSQL - Supabase
# Session Pooler (recommended): IPv4 compatible, works with all drivers
# Get credentials from: Supabase Dashboard → Project Settings → Database → Connection string → Session pooler
POSTGRES_USER=postgres.your_project_ref
POSTGRES_PASSWORD=your_supabase_password
POSTGRES_DB=postgres
POSTGRES_HOST=aws-X-region.pooler.supabase.com
POSTGRES_PORT=5432

# Alternative: Direct Connection (requires IPv6 or waiting for DNS propagation)
# POSTGRES_USER=postgres
# POSTGRES_HOST=db.your_project_ref.supabase.co

# Redis Cloud
# Format: redis://username:password@host:port (or rediss:// for TLS)
# Get from: Redis Cloud Dashboard → Database → General → Public endpoint
REDIS_URL=redis://default:your_redis_password@redis-xxxxx.region.redns.redis-cloud.com:xxxxx

# Celery
CELERY_APP_NAME=app
CELERY_TIMEZONE=UTC
CELERY_TASK_TRACK_STARTED=True
CELERY_TASK_TIME_LIMIT=1800
CELERY_TASK_SOFT_TIME_LIMIT=1500
CELERY_RESULT_EXPIRES=3600
CELERY_TASK_ACKS_LATE=True
CELERY_WORKER_PREFETCH_MULTIPLIER=4
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000

# Flower
FLOWER_PORT=5555

# Extensions (optional - comma-separated list of extensions to load)
ENABLED_EXTENSIONS=
# Examples:
# ENABLED_EXTENSIONS=extension_a
# ENABLED_EXTENSIONS=extension_a,extension_b

# LLM Provider Configuration
LLM_PROVIDER=langchain

# LLM API Keys (optional - only needed for LLM endpoints)
OPENAI_API_KEY=your-openai-key
GROQ_API_KEY=your-groq-key

# Facebook Messenger Integration
# Access Token: App Dashboard → Messenger → Settings → Access Tokens → Generate Token
FACEBOOK_PAGE_ACCESS_TOKEN=your_page_access_token

# Verify Token: Custom secure string (your choice) - must match Facebook webhook config
FACEBOOK_VERIFY_TOKEN=your_custom_verify_token

# App Secret: App Dashboard → Settings → Basic → App Secret (click "Show")
FACEBOOK_APP_SECRET=your_app_secret

# API Version: Current version (v24.0 as of Jan 2025)
FACEBOOK_GRAPH_API_VERSION=v24.0

# Rate limit: Max messages per minute per user
FACEBOOK_RATE_LIMIT_MESSAGES_PER_MINUTE=10

# Note: Tests automatically use {POSTGRES_DB}_test database